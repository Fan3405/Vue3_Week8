import{S as p}from"./sweetalert2.all-44e0e40d.js";import{_ as w,a as b,r as f,o as d,c as l,b as t,t as g,G as u,F as y,p as C,d as v,f as m,w as k,n as B,q as L,s as z}from"./index-0be279bb.js";import{c as E}from"./cartStore-7a7cb8f4.js";import{P as F}from"./PaginationComponent-814d6589.js";import{v as T}from"./vueLoadingStore-72a671db.js";const{VITE_APP_URL:h,VITE_APP_PATH:_}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"zxcv123",BASE_URL:"/Vue3_Week8/",MODE:"production",DEV:!1,PROD:!0},A={data(){return{products:[],addCartLoading:null,currentPage:1,page:{},category:null}},methods:{...b(T,["showLoading","hideLoading"]),getProducts(o="",s=1){this.currentPage=s,this.showLoading();let c=`${h}v2/api/${_}/products?page=${s}`;o==="烤肉"||o==="蔬菜"||o==="飲品"?(c=`${h}v2/api/${_}/products?page=${s}&category=${o}`,this.category=o):o==="所有餐點"&&(this.category="所有餐點"),this.$http.get(c).then(i=>{this.page=i.data.pagination,this.products=i.data.products,this.hideLoading()}).catch(i=>{p.fire({title:i.response.data.message,icon:"error",confirmButtonText:"OK"}),this.hideLoading()}),window.scrollTo({top:300,behavior:"smooth"})},...b(E,["getCarts"]),addToCart(o,s=1){const c={product_id:o,qty:s};this.addCartLoading=o,this.$http.post(`${h}v2/api/${_}/cart`,{data:c}).then(i=>{p.fire({title:i.data.message,icon:"success",confirmButtonText:"OK"}),this.addCartLoading=null,this.getCarts()}).catch(i=>{p.fire({title:i.response.data.message,icon:"error",confirmButtonText:"OK"})})}},mounted(){this.getProducts()},components:{PaginationComponent:F}},n=o=>(L("data-v-5dc00e8f"),o=o(),z(),o),D=n(()=>t("div",{style:{"background-position":"center","background-size":"cover","object-fit":"cover",height:"300px","background-image":"url('https://images.unsplash.com/photo-1560380185-9644d262854c?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=869&q=80')"}},null,-1)),V={class:"container"},O={class:"row"},S=n(()=>t("div",{class:"col-md-3"},null,-1)),I={class:"col-md-9 text-center"},N={class:"text-darkGreen fw-bold p-4 mb-0 hrPromotions"},R={class:"row"},U={class:"col-md-3"},G={class:"list-group sticky-top top-150 RWD-menu",id:"list-tab",role:"tablist"},j=n(()=>t("h4",{class:"list-group-item bg-primary text-white m-0","aria-current":"true"},"菜單分類",-1)),H={class:"list-unstyled"},K=["disabled"],M=["disabled"],W=["disabled"],Y=["disabled"],q=n(()=>t("li",null,[t("img",{src:"https://storage.googleapis.com/vue-course-api.appspot.com/zxcv123/1679043836381.png?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=FjesjB%2Fr%2B6JLipiNnzSJhxFxp9BCnE0pUrDOPhLo0ZqCrYmGIYRa4R5XZCGExe8UDjXtXVMWc4mMkK6HkfYnUzOMmlKAWGVrGhbIeHDm85YmfuFhXIpKfPj7ftWYQvUlOwKywETk59SFQKop%2FNq25asEYjq7PSDtSMRPfdRtLO0dZyYkT5bfHobi2%2BaA6QYe%2B5umgu8VvNG5V39LP3q92zv1cTaoCwq8I5dEt4YFrNIf4gAgwDqdH%2BEN979yv5bfD3zTkctlQcgJlcEtA5SOo36xOgcWzvprsFK%2Bu0G3F0PO5RQsFJ5xA9MGh%2Bz7zfL8X6gHFF8TbzpPm3%2FdjnmBtA%3D%3D",alt:"烤肉圖片",width:"230",height:"120",class:"meat object-fit"})],-1)),X=n(()=>t("li",null,[t("img",{src:"https://storage.googleapis.com/vue-course-api.appspot.com/zxcv123/1679040934274.png?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=CQvxryEJfLZr33%2FoeREEo1zgbRg4n%2B7YuGVzPG6oQVy11nEDCjT0vAu330O%2FKir2tLtjpHgZ5Q9aCHO%2FBdWd3AbidIWXCNA03XKTKNSOA2nx%2B8%2F4J2Jt60kfsqbz7%2FPrRfDFOUFkchu7t0fK8ZhWNn8XNUs78%2BevFIIyWyDNMUz6s2CjUXbT2W%2BUpgSnTDYUMk9LfHs5ATzPCpDHaCUZDUGHwJs78cBSEv2M6RS2fxMcwxQTzvkNVYWynyz%2ByAzphpEalnVrq6gzLjy%2BQNXGOyo8U7lLECCqRunqXFByi2dyENRE6IXPMPgHeJWV%2BUKwYOjOxz4OkeigvemNo7Kh9Q%3D%3D",alt:"烤肉架圖片",width:"250",height:"100",class:"fire object-fit"})],-1)),Q={class:"col-md-9"},J={class:"row my-4 g-4 mt-0"},Z={class:"card"},$=["src","alt"],tt={class:"card-body"},ot={class:"card-title"},st={class:"float-end"},et=["onClick","disabled"],it={key:0,class:"spinner-border spinner-border-sm",role:"status"};function at(o,s,c,i,e,r){const x=f("RouterLink"),P=f("PaginationComponent");return d(),l(y,null,[D,t("main",V,[t("div",O,[S,t("div",I,[t("h2",N,g(e.category?e.category:"菜單"),1)])]),t("div",R,[t("div",U,[t("div",G,[j,t("ul",H,[t("li",null,[t("button",{type:"button",class:"list-group-item list-group-item-action bg-primary bg-opacity-50 text-white",id:"list-home-list",role:"tab","aria-controls":"list-home",onClick:s[0]||(s[0]=()=>r.getProducts("所有餐點")),disabled:e.category==="所有餐點"}," 所有餐點 ",8,K)]),t("li",null,[t("button",{type:"button",class:"list-group-item list-group-item-action bg-primary bg-opacity-50 text-white",id:"list-home-list",href:"#",role:"tab","aria-controls":"list-home",onClick:s[1]||(s[1]=u(()=>r.getProducts("烤肉"),["prevent"])),disabled:e.category==="烤肉"}," 烤肉 ",8,M)]),t("li",null,[t("button",{type:"button",class:"list-group-item list-group-item-action bg-primary bg-opacity-50 text-white",id:"list-home-list",href:"#",role:"tab","aria-controls":"list-home",onClick:s[2]||(s[2]=u(()=>r.getProducts("蔬菜"),["prevent"])),disabled:e.category==="蔬菜"}," 蔬菜 ",8,W)]),t("li",null,[t("button",{type:"button",class:"list-group-item list-group-item-action bg-primary text-white bg-opacity-50 bg-opacity-50 rounded-bottom",id:"list-home-list",href:"#",role:"tab","aria-controls":"list-home",onClick:s[3]||(s[3]=u(()=>r.getProducts("飲品"),["prevent"])),disabled:e.category==="飲品"}," 飲品 ",8,Y)]),q,X])])]),t("div",Q,[t("div",J,[(d(!0),l(y,null,C(e.products,a=>(d(),l("div",{class:"col-md-4 mt-0 mb-4",key:a.id},[t("div",Z,[t("img",{src:a.imageUrl,class:"card-img-top object-fit",height:"200",alt:a.title},null,8,$),t("div",tt,[t("h5",ot,[m(g(a.title)+" ",1),t("span",st,"$ "+g(a.price),1)]),v(x,{to:`/product/${a.id}`,class:"btn btn-outline-secondary w-100 mt-3"},{default:k(()=>[m(" 查看更多產品細節")]),_:2},1032,["to"]),t("button",{type:"button",class:"btn btn-outline-primary w-100 mt-3",onClick:()=>r.addToCart(a.id),disabled:e.addCartLoading===a.id},[e.addCartLoading===a.id?(d(),l("span",it)):B("",!0),m(" 加到購物車 ")],8,et)])])]))),128))]),v(P,{category:e.category,pages:e.page,"get-data":r.getProducts},null,8,["category","pages","get-data"])])])])],64)}const pt=w(A,[["render",at],["__scopeId","data-v-5dc00e8f"]]);export{pt as default};
