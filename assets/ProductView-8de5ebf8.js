import{S as V}from"./sweetalert2.all-44e0e40d.js";import{h as W,i as Y,j as J,n as A,k as O,S as H,f as X,N as K,A as Q}from"./navigation.min-ea442a15.js";import{_ as w,a as j,m as $,r as D,o as h,c as g,b as i,t as b,n as k,d as ee,w as C,l as P,I as te,J as se,F as E,p as z,f as R,q as oe,s as ie,e as ne}from"./index-0be279bb.js";import{c as U}from"./cartStore-7a7cb8f4.js";import{v as ae}from"./vueLoadingStore-72a671db.js";function le({swiper:e,extendParams:u,on:f}){u({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let _=!1,o=!1;e.thumbs={swiper:null};function x(){const t=e.thumbs.swiper;if(!t||t.destroyed)return;const s=t.clickedIndex,d=t.clickedSlide;if(d&&d.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof s>"u"||s===null)return;let a;t.params.loop?a=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10):a=s,e.params.loop?e.slideToLoop(a):e.slideTo(a)}function T(){const{thumbs:t}=e.params;if(_)return!1;_=!0;const s=e.constructor;if(t.swiper instanceof s)e.thumbs.swiper=t.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update();else if(Y(t.swiper)){const d=Object.assign({},t.swiper);Object.assign(d,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new s(d),o=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",x),!0}function c(t){const s=e.thumbs.swiper;if(!s||s.destroyed)return;const d=s.params.slidesPerView==="auto"?s.slidesPerViewDynamic():s.params.slidesPerView;let a=1;const r=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(a=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(a=1),a=Math.floor(a),s.slides.forEach(l=>l.classList.remove(r)),s.params.loop||s.params.virtual&&s.params.virtual.enabled)for(let l=0;l<a;l+=1)J(s.slidesEl,`[data-swiper-slide-index="${e.realIndex+l}"]`).forEach(m=>{m.classList.add(r)});else for(let l=0;l<a;l+=1)s.slides[e.realIndex+l]&&s.slides[e.realIndex+l].classList.add(r);const y=e.params.thumbs.autoScrollOffset,S=y&&!s.params.loop;if(e.realIndex!==s.realIndex||S){const l=s.activeIndex;let m,n;if(s.params.loop){const B=s.slides.filter(M=>M.getAttribute("data-swiper-slide-index")===`${e.realIndex}`)[0];m=s.slides.indexOf(B),n=e.activeIndex>e.previousIndex?"next":"prev"}else m=e.realIndex,n=m>e.previousIndex?"next":"prev";S&&(m+=n==="next"?y:-1*y),s.visibleSlidesIndexes&&s.visibleSlidesIndexes.indexOf(m)<0&&(s.params.centeredSlides?m>l?m=m-Math.floor(d/2)+1:m=m+Math.floor(d/2)-1:m>l&&s.params.slidesPerGroup,s.slideTo(m,t?0:void 0))}}f("beforeInit",()=>{const{thumbs:t}=e.params;if(!(!t||!t.swiper))if(typeof t.swiper=="string"||t.swiper instanceof HTMLElement){const s=W(),d=()=>{const r=typeof t.swiper=="string"?s.querySelector(t.swiper):t.swiper;if(r&&r.swiper)t.swiper=r.swiper,T(),c(!0);else if(r){const y=S=>{t.swiper=S.detail[0],r.removeEventListener("init",y),T(),c(!0),t.swiper.update(),e.update()};r.addEventListener("init",y)}return r},a=()=>{if(e.destroyed)return;d()||requestAnimationFrame(a)};requestAnimationFrame(a)}else T(),c(!0)}),f("slideChange update resize observerUpdate",()=>{c()}),f("setTransition",(t,s)=>{const d=e.thumbs.swiper;!d||d.destroyed||d.setTransition(s)}),f("beforeDestroy",()=>{const t=e.thumbs.swiper;!t||t.destroyed||o&&t.destroy()}),Object.assign(e.thumbs,{init:T,update:c})}function re({swiper:e,extendParams:u,emit:f,once:_}){u({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function o(){const c=e.getTranslate();e.setTranslate(c),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function x(){const{touchEventsData:c,touches:t}=e;c.velocities.length===0&&c.velocities.push({position:t[e.isHorizontal()?"startX":"startY"],time:c.touchStartTime}),c.velocities.push({position:t[e.isHorizontal()?"currentX":"currentY"],time:A()})}function T({currentPos:c}){const{params:t,wrapperEl:s,rtlTranslate:d,snapGrid:a,touchEventsData:r}=e,S=A()-r.touchStartTime;if(c<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(c>-e.maxTranslate()){e.slides.length<a.length?e.slideTo(a.length-1):e.slideTo(e.slides.length-1);return}if(t.freeMode.momentum){if(r.velocities.length>1){const p=r.velocities.pop(),v=r.velocities.pop(),G=p.position-v.position,F=p.time-v.time;e.velocity=G/F,e.velocity/=2,Math.abs(e.velocity)<t.freeMode.minimumVelocity&&(e.velocity=0),(F>150||A()-p.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=t.freeMode.momentumVelocityRatio,r.velocities.length=0;let l=1e3*t.freeMode.momentumRatio;const m=e.velocity*l;let n=e.translate+m;d&&(n=-n);let B=!1,M;const I=Math.abs(e.velocity)*20*t.freeMode.momentumBounceRatio;let L;if(n<e.maxTranslate())t.freeMode.momentumBounce?(n+e.maxTranslate()<-I&&(n=e.maxTranslate()-I),M=e.maxTranslate(),B=!0,r.allowMomentumBounce=!0):n=e.maxTranslate(),t.loop&&t.centeredSlides&&(L=!0);else if(n>e.minTranslate())t.freeMode.momentumBounce?(n-e.minTranslate()>I&&(n=e.minTranslate()+I),M=e.minTranslate(),B=!0,r.allowMomentumBounce=!0):n=e.minTranslate(),t.loop&&t.centeredSlides&&(L=!0);else if(t.freeMode.sticky){let p;for(let v=0;v<a.length;v+=1)if(a[v]>-n){p=v;break}Math.abs(a[p]-n)<Math.abs(a[p-1]-n)||e.swipeDirection==="next"?n=a[p]:n=a[p-1],n=-n}if(L&&_("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(d?l=Math.abs((-n-e.translate)/e.velocity):l=Math.abs((n-e.translate)/e.velocity),t.freeMode.sticky){const p=Math.abs((d?-n:n)-e.translate),v=e.slidesSizesGrid[e.activeIndex];p<v?l=t.speed:p<2*v?l=t.speed*1.5:l=t.speed*2.5}}else if(t.freeMode.sticky){e.slideToClosest();return}t.freeMode.momentumBounce&&B?(e.updateProgress(M),e.setTransition(l),e.setTranslate(n),e.transitionStart(!0,e.swipeDirection),e.animating=!0,O(s,()=>{!e||e.destroyed||!r.allowMomentumBounce||(f("momentumBounce"),e.setTransition(t.speed),setTimeout(()=>{e.setTranslate(M),O(s,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(f("_freeModeNoMomentumRelease"),e.updateProgress(n),e.setTransition(l),e.setTranslate(n),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,O(s,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(n),e.updateActiveIndex(),e.updateSlidesClasses()}else if(t.freeMode.sticky){e.slideToClosest();return}else t.freeMode&&f("_freeModeNoMomentumRelease");(!t.freeMode.momentum||S>=t.longSwipesMs)&&(e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:o,onTouchMove:x,onTouchEnd:T}})}const{VITE_APP_URL:q,VITE_APP_PATH:N}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"zxcv123",BASE_URL:"/Vue3_Week8/",MODE:"production",DEV:!1,PROD:!0},ce={components:{Swiper:H,SwiperSlide:X},data(){return{thumbsSwiper:null,modules:[re,K,le,Q],product:{},imagesUrl:[],qty:1,addCartLoading:null}},methods:{...j(ae,["showLoading","hideLoading"]),setThumbsSwiper(e){this.thumbsSwiper=e},getProduct(){this.showLoading();const{id:e}=this.$route.params;this.$http.get(`${q}v2/api/${N}/product/${e}`).then(u=>{this.product=u.data.product,this.hideLoading(),this.imagesUrl=[u.data.product.imageUrl,...u.data.product.imagesUrl].filter(f=>f!=="")}).catch(u=>{V.fire({title:u.response.data.message,icon:"error",confirmButtonText:"OK"}),this.hideLoading()})},...j(U,["getCarts"]),addToCart(e,u=1){const f={product_id:e,qty:u};this.addCartLoading=e,this.$http.post(`${q}v2/api/${N}/cart`,{data:f}).then(_=>{this.getCarts(),V.fire({title:_.data.message,icon:"success",confirmButtonText:"OK"}),this.addCartLoading=null}).catch(_=>{V.fire({title:_.response.data.message,icon:"error",confirmButtonText:"OK"})})}},computed:{...$(U,["qtyMaxStatus"])},mounted(){this.getProduct()}},Z=e=>(oe("data-v-27567c36"),e=e(),ie(),e),de={key:0,class:"bg-light mt-6"},ue={class:"container overflow-hidden"},me={class:"row justify-content-center py-7"},he={class:"col-md-8 d-flex marquee"},fe=Z(()=>i("img",{src:"https://storage.googleapis.com/vue-course-api.appspot.com/zxcv123/1678947674648.png?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=IxbuVUaBUEx8MI2zuLJnckYHFXZwWIiMj%2FIN0hJxm1V21fgFNLBtz2kHAsDvck2zmiBnSenb65tiYe7YmC0dRwaEPezgk0hLOD5QnHSpJ5An8vFF7cCEbJH7QIzPzp01ZdcLheh6kXGKVON%2BIVxhE4kud5t3SBvcjNJcwOGOHTfu%2Bg0wDBPGv%2BblDj9CYUCeRgnMMMLVZo1DqLDZ9T03PukYnAbztegdGF%2BqP6ZmOnuoJK34%2F9r123B%2Ba0nBVpPl5DrSn%2BHjz1ou3dDPks%2BLFuKffVZVGlqme3rvnQg2lbQJp1tXyDfOMMwniZocO9oF0FvzCLCzW%2Fjs5o%2BBuoctZg%3D%3D",alt:"No drinking",class:"rounded-circle me-5",style:{width:"160px",height:"160px","object-fit":"cover"}},null,-1)),pe={class:"d-flex flex-column"},be={class:"h5 my-auto text-danger fw-bold"},ve=Z(()=>i("p",{class:"my-auto text-muted"},"點燒烤",-1)),ge={class:"container py-3",tabindex:"-1",role:"dialog","aria-hidden":"true"},_e={"aria-label":"breadcrumb"},Te={class:"breadcrumb"},ye={class:"breadcrumb-item"},xe={class:"breadcrumb-item active","aria-current":"page"},Se={role:"document"},Me={class:"border-0"},ke={class:"bg-primary p-3 text-white"},Be={class:"mb-0"},Ce={class:"row"},Ie={class:"col-sm-6"},Pe=["src"],Ee=["src"],Le={class:"col-sm-6 lh-lg p-3"},Ve={class:"badge bg-primary rounded-pill"},Ae={class:"fw-bold text-danger"},Oe={key:0,class:"h5"},De={key:1},ze={class:"h6 text-danger"},Fe={class:"h5 fw-bold"},je={class:"input-group"},Re=["disabled"],Ue=["value"],qe=["disabled"],Ne={key:0,class:"spinner-border spinner-border-sm",role:"status"},Ze={key:0,class:"fw-bold text-danger"},Ge={key:0,class:"row flex-row-reverse justify-content-between my-5"},We=ne('<div data-aos="zoom-in" class="col-md-6 p-0" data-v-27567c36><img src="https://storage.googleapis.com/vue-course-api.appspot.com/zxcv123/1679035708365.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&amp;Expires=1742169600&amp;Signature=Z5aK2CO3Vo3fWnJWXsvh4boai%2FTLAavmGMAggqyLl9D8E4hKmDaF0O9zzLQp2tLVYyPYwn%2Ff7C%2FvWWVomz%2BRX64xRbkChlxZ55FMpVrIf6JB%2BRXaAGxN5%2By29d5pov%2FYbiojWT57II5aBthPOABtschk2LRUGx68k4PJ9%2FZ4WFkDzj1auAi5CreZwWvYZvTuTWhOpLoXxeTOnVpMU1fpr%2BQ4atObuwzIwZdag5U6JjRO4S%2BmMbS6Yn13udUW54v%2B0VpYT2casTdLIscUl6hV07Ncpf2mC5sN7bX9p%2FgCFAenElwivlE0ZQTyU%2BsjXPlRi%2BCqWSaoaoEplOC7OAS4TQ%3D%3D" alt="新鮮食材" class="w-100 object-fit" height="400" data-v-27567c36></div><div data-aos="zoom-in" class="col-md-4 m-auto text-center" data-v-27567c36><h4 class="mt-4 fw-bold" data-v-27567c36>食安疑慮</h4><p class="lh-lg" data-v-27567c36> 【 我們對食材有很高的品質要求和更嚴格的監管，對於食品產品安全性的擔憂和質疑，我們能保證不會使用低質或有問題的原材料或成分，每天堅持使用新鮮的食材來烹製每一道菜品 】 </p></div>',2),Ye=[We];function Je(e,u,f,_,o,x){const T=D("RouterLink"),c=D("swiper-slide"),t=D("swiper");return h(),g(E,null,[o.product.notice?(h(),g("div",de,[i("div",ue,[i("div",me,[i("div",he,[fe,i("div",pe,[i("p",be,"“"+b(o.product.notice)+"”",1),ve])])])])])):k("",!0),i("div",ge,[i("nav",_e,[i("ol",Te,[i("li",ye,[ee(T,{to:"/products"},{default:C(()=>[R("產品列表")]),_:1})]),i("li",xe,b(o.product.title),1)])]),i("div",Se,[i("div",Me,[i("div",ke,[i("h5",Be,[i("span",null,b(o.product.title),1)])]),i("div",null,[i("div",Ce,[i("div",Ie,[o.imagesUrl.length?(h(),P(t,{key:0,style:{"--swiper-navigation-color":"#fff","--swiper-pagination-color":"#fff"},loop:!0,spaceBetween:10,navigation:!0,thumbs:{swiper:o.thumbsSwiper},modules:o.modules,autoplay:{delay:2500,disableOnInteraction:!1,pauseOnMouseEnter:!0},class:"mySwiper2"},{default:C(()=>[(h(!0),g(E,null,z(o.imagesUrl,s=>(h(),P(c,{key:s+"123"},{default:C(()=>[i("img",{class:"img-fluid",src:s,alt:"產品圖片"},null,8,Pe)]),_:2},1024))),128))]),_:1},8,["thumbs","modules"])):k("",!0),o.imagesUrl.length?(h(),P(t,{key:1,onSwiper:x.setThumbsSwiper,loop:!0,spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,modules:o.modules,class:"mySwiper"},{default:C(()=>[(h(!0),g(E,null,z(o.imagesUrl,s=>(h(),P(c,{key:s+"123"},{default:C(()=>[i("img",{class:"img-fluid",src:s,alt:"產品圖片"},null,8,Ee)]),_:2},1024))),128))]),_:1},8,["onSwiper","modules"])):k("",!0)]),i("div",Le,[i("p",Ve,b(o.product.category),1),i("span",Ae,b(o.product.notice),1),i("p",null,"商品內容："+b(o.product.content),1),i("p",null,"商品描述："+b(o.product.description),1),o.product.price===o.product.origin_price?(h(),g("div",Oe,"$ "+b(o.product.price)+" 元",1)):(h(),g("div",De,[i("del",ze,"原價$ "+b(o.product.origin_price)+" 元",1),i("div",Fe,"現在只要$ "+b(o.product.price)+" 元 / 1 "+b(o.product.unit),1)])),i("div",null,[i("div",je,[te(i("select",{name:"",id:"",class:"form-select","onUpdate:modelValue":u[0]||(u[0]=s=>o.qty=s),disabled:o.addCartLoading===o.product.id||e.qtyMaxStatus},[(h(),g(E,null,z(30,s=>i("option",{value:s,key:`${s}123`},b(s),9,Ue)),64))],8,Re),[[se,o.qty]]),i("button",{type:"button",class:"btn btn-primary",onClick:u[1]||(u[1]=s=>x.addToCart(o.product.id,o.qty)),disabled:o.addCartLoading===o.product.id||e.qtyMaxStatus},[o.addCartLoading===o.product.id?(h(),g("span",Ne)):k("",!0),R(" 加入購物車 ")],8,qe)]),e.qtyMaxStatus?(h(),g("p",Ze,"此商品於購物車內已達數量上限")):k("",!0)])])]),o.product?(h(),g("div",Ge,Ye)):k("",!0)])])])])],64)}const $e=w(ce,[["render",Je],["__scopeId","data-v-27567c36"]]);export{$e as default};
